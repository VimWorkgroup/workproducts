# Vim Script Version Comparison Table

| What                                         | Vim 8                                                                                                                                                        | Vim 9                                                                                                                                                                           |
| -------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| first line                                   |                                                                                                                                                              | <pre>vim9script</pre>                                                                                                                                                           |
| comment sign                                 | <pre>"</pre>                                                                                                                                                 | <pre>#</pre>                                                                                                                                                                    |
| line continuation                            | <pre>echo "hello "<br>\ .. "world"</pre>                                                                                                                     | <pre>echo "hello "<br> .. "world"</pre>                                                                                                                                         |
| variable declaration                         | <pre>let s:MyVar=0</pre>                                                                                                                                     | <pre>var MyVar = 0</pre>                                                                                                                                                        |
| variable assignment                          | <pre>let s:MyVar=0</pre>                                                                                                                                     | <pre>MyVar = 0</pre>                                                                                                                                                            |
| const                                        |                                                                                                                                                              | <pre>const and final</pre>                                                                                                                                                      |
| function definition                          | <pre>function MyFunc(Param) abort<br>   echo a:Param<br>endfunction</pre>                                                                                    | <pre>def MyFunc(Param: number)<br>   echo Param<br>enddef</pre>                                                                                                                 |
| function arguments dictionary                | Present as `a:`                                                                                                                                              | Absent. Arguments are accessed by name.                                                                                                                                         |
| calling function                             | <pre>call MyFunc(42)</pre>                                                                                                                                   | <pre>MyFunc(42)</pre>                                                                                                                                                           |
| Default scope of <br>variables and functions | global                                                                                                                                                       | script-local<br>`s:` is optional.                                                                                                                                               |
| On reloading script                          | Nothing is removed                                                                                                                                           | Existing script-local variables and functions are removed.                                                                                                                      |
| ranges                                       | <pre>%s/patt/repl/g</pre>                                                                                                                                    | <pre>:%s/patt/repl/g</pre>                                                                                                                                                      |
| Lambda syntax                                | <pre>let l1 = {arg -> expression}</pre>                                                                                                                      | <pre>var l2 = (arg) => expression</pre>                                                                                                                                         |
| White space around operator                  | Does not matter                                                                                                                                              | Mostly needed<br><pre>var name=234 # ✗<br>var name = 234 # ✓</pre>                                                                                                              |
| Expression within <br>variable name          | Allowed<br>`var_{1+1}` creates variable named `var_2`                                                                                                        | Not allowed                                                                                                                                                                     |
| Literal keys in dictionary                   | <pre>let dict = #{key: value}</pre>                                                                                                                          | <pre>var dict = {key: value}</pre>                                                                                                                                              |
| After encountering first error               | Continues                                                                                                                                                    | Stops                                                                                                                                                                           |
| Increment and decrement operator             | Absent                                                                                                                                                       | Present although not in an expression yet. E.g., `++myvar` and `--myvar`                                                                                                        |
| `map()` function                             | Item type in initial and final expression can differ.<br><pre>" Item type changes from number to string<br>echo map([1, 2, 3], "'Value is ' .. v:val")</pre> | The item type of expression passed into `map()` must not change.<br><pre># Type Mismatch Error<br>echo map([1, 2, 3], "'Value is ' .. v:val") </pre><br>Instead use `mapnew()`. |
